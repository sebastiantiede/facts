var transitionEndTrigger="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";$(window).ready(function(){F_Global.init(),F_UI.init(),F_Git.init(),F_Facts.init(),F_Local.init()}).scroll(function(){}).resize(function(){$(this).trigger("resize__tooltip")});
var F_Global={vars:{},init:function(){F_Global.setBaseURL()},setBaseURL:function(){F_Global.vars.baseURL=window.location.href.replace(/\/#[^#]+$/,"")},is_mobile:function(){if(null!=NSINKA_Global.vars.is_mobile)return NSINKA_Global.vars.is_mobile;var a=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),NSINKA_Global.vars.is_mobile=a,a},is_tablet:function(){var a=$(window).width(),i=$(window).height(),t=a>i?a/i:i/a;return this.is_mobile()&&t<1.6},is_smartphone:function(){var a=$(window).width(),i=$(window).height(),t=a>i?a/i:i/a;return this.is_mobile()&&t>1.6},ajaxPage:function(a,i){NSINKA_Global.vars.xhr&&NSINKA_Global.vars.xhr.abort(),NSINKA_Global.vars.xhr=$.ajax({url:a,success:function(a){$data=$.parseHTML(a).filter(function(a){return"TITLE"==a.nodeName||"MAIN"==a.nodeName?a:void 0}),title=$data.filter(function(a){return"TITLE"==a.nodeName?a:void 0}),$("title").text($(title[0]).text()),i($data)},dataType:"html"})},randomColor:function(){for(var a="#",i=0;i<6;i++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];return a},tmpl:function(a,i){return i={data:i}||{data:{}},_.template($("#tmpl_"+a).clone().text())(i)},history:{set:function(a,i){history.pushState({},a,F_Global.vars.baseURL+i)}}};
function getRandItemsOfArray(e,t){var i,s,n,a=e.length;for(n=e.length;n;n--)i=Math.floor(Math.random()*n),s=e[n-1],e[n-1]=e[i],e[i]=s;return t<a&&(e=e.splice(0,t)),e}var F_Facts={vars:{},init:function(){this.slideshow()},slideshow:function(){F_Facts.vars.$slideshow=$("#facts_slideshow"),F_Git.searchFile("facts/de_DE",function(e){F_Facts.vars.$slideshow.slick({prevArrow:'<button type="button" class="slick-prev material-icons">&#xE314;</button>',nextArrow:'<button type="button" class="slick-next material-icons">&#xE315;</button>'}),$.each(e._data,function(e,t){F_Git.file(t.html_url,function(e){$slide=$(F_Global.tmpl("factArticle",e)),$slide[0].factFile=t.html_url,$slide[0].factData=e,F_Facts.vars.$slideshow.slick("slickAdd",F_Facts.slide.init($slide,e)),$slide.find("h2,h1").click(function(){F_UI.body.tooltip.show($("h2,h1",$(this).parent()).first(),$(this).closest("article")[0].factData)})})}),F_Facts.vars.$slideshow.on("afterChange",function(){F_UI.body.updateColorSchemes(),F_Facts.vars.$slideshow.find(":not(.slick-current)").scrollTop(0);var e=F_Facts.vars.$slideshow.find(".slick-current"),t=(e[0].factData,e[0].factFile);F_Global.history.set(e.find("h1").text(),t.replace(/.*(\/[^\/]+\/[^\/]+)$/,"#!$1"))})})},slide:{init:function(e,t){var i=this;return e.scroll(function(s){e.find(".fact__relatives").offset().top-e.scrollTop()<=0&&i.references.init(e,t)}),e},references:{insertionTimeout:0,init:function(e,t){e[0].referencesInited||(e[0].referencesInited=!0,F_Git.search(t.tags.join("+"),function(t){t._data.length&&$.each(getRandItemsOfArray(t._data,3),function(t,i){F_Git.file(i.html_url,function(t){F_Facts.slide.references.reference(t,e)})})}))},reference:function(e,t){e.backgroundColor=F_UI.body.getRandColorScheme()[1];var i=$(F_Global.tmpl("factArticleRelative",e));t.find(".fact__relatives .relatives").append(i),setTimeout(function(){i.addClass("is-active")},F_Facts.slide.references.insertionTimeout),F_Facts.slide.references.insertionTimeout=F_Facts.slide.references.insertionTimeout+100}}}};
var F_Git={vars:{gitURLContent:"https://api.github.com/repos/",gitURLSearch:"https://api.github.com/search/code?q=repo:"},init:function(){F_Git.vars.gitUser="sebastiantiede",F_Git.vars.gitRepo="whatthefact",F_Git.vars.gitURLContent=F_Git.vars.gitURLContent+F_Git.vars.gitUser+"/"+F_Git.vars.gitRepo+"/contents",F_Git.vars.gitURLSearch=F_Git.vars.gitURLSearch+F_Git.vars.gitUser+"/"+F_Git.vars.gitRepo},languageSelector:function(){var t=navigator.language||navigator.userLanguage;return t+"_"+t.toUpperCase()},folder:function(t,i){$.get(F_Git.vars.gitURLContent+t,function(t){var e=F_Git,a=[];$.each(t,function(t,i){a[t]=Object.assign(i,e)}),t=Object.assign({_data:a},e),i(t)},"json")},file:function(t,i){var e=t||this.download_url,a=e.match(/([^\.]+)$/)[1]||null;$regex=new RegExp("(http(s)?://)github.com(/"+F_Git.vars.gitUser+"/"+F_Git.vars.gitRepo+")/blob","i"),e=e.replace($regex,"$1raw.githubusercontent.com$3"),$.get(e,i,a)},search:function(t,i){t=t.replace(/\s/,"+"),$.get(F_Git.vars.gitURLSearch+"+"+t,function(t){var e=F_Git,a=[];$.each(t.items,function(t,i){a[t]=Object.assign(i,e)}),t=Object.assign({_data:a},e),i(t)},"json")},searchFile:function(t,i){t=t.replace(/\s/,"+"),this.search(t+"+in:path",i)}};
var F_UI={vars:{colorSchemes:[["#505551","#a7d3af","#d0e3d4"],["#6b4c5b","#d3a7bc","#edd9e3"],["#3e4664","#a5aed1","#ccd1e3"],["#684949","#c49a9a","#dfc6c6"]]},init:function(){this.header.nav.burger(),F_UI.body.updateColorSchemes()},header:{nav:{burger:function(){$(".hamburger").click(function(o){o.preventDefault();var t=$(this),e=$("body");t.hasClass("is-active")?(e.removeClass("nav-is-open"),t.removeClass("is-active")):(e.addClass("nav-is-open"),t.addClass("is-active"))})}}},body:{updateColorSchemes:function(o){var t=(F_UI.vars.colorSchemes,F_UI.body.getRandColorScheme()),e=$("#colorScheme");$newCSS=$(F_Global.tmpl("colorSchemesCSS",{color1:t[0],color2:t[1],color3:t[2]})),e.length?e.replaceWith($newCSS):$("body").prepend($newCSS)},getRandColorScheme:function(){var o=F_UI.vars.colorSchemes;return o[Math.floor(Math.random()*o.length+1)-1]},tooltip:{$tootltip:!1,timeout:!1,show:function(o,t){F_UI.body.tooltip.$tootltip.length&&F_UI.body.tooltip.$tootltip.remove(),F_UI.body.tooltip.$tootltip=$(F_Global.tmpl("factTooltip",t)),o.closest("article").append(F_UI.body.tooltip.$tootltip),$(window).on("resize__tooltip",function(){F_UI.body.tooltip.$tootltip.css({left:o.offset().left+o.width()/2-F_UI.body.tooltip.$tootltip.width()/2,top:o.offset().top-o.height()/2})}).trigger("resize__tooltip"),o.add(F_UI.body.tooltip.$tootltip).mousemove(function(){clearTimeout(F_UI.body.tooltip.timeout)}).mouseout(function(){clearTimeout(F_UI.body.tooltip.timeout),F_UI.body.tooltip.timeout=setTimeout(function(){F_UI.body.tooltip.$tootltip.fadeOut(function(){$(this).remove()})},1e3)})}}}};
function __(_){return F_Local.__(_)}var F_Local={local:!1,init:function(){F_Local.local=F_Local[F_Git.languageSelector()]},__:function(_){}};
F_Local.de_DE=[{msgid:"Thumbnail",msgstr:""}];
F_Local.en_GB={};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmpzIiwiYmFzZS5qcyIsImNvbXBvbmVudHMvZmFjdHMuanMiLCJjb21wb25lbnRzL2dpdC5qcyIsImNvbXBvbmVudHMvdWkuanMiLCJsb2NhbC9fbG9jYWwuanMiLCJsb2NhbC9kZV9ERS5qcyIsImxvY2FsL2VuX0dCLmpzIl0sIm5hbWVzIjpbInRyYW5zaXRpb25FbmRUcmlnZ2VyIiwiJCIsIndpbmRvdyIsInJlYWR5IiwiRl9HbG9iYWwiLCJpbml0IiwiRl9VSSIsIkZfR2l0IiwiRl9GYWN0cyIsIkZfTG9jYWwiLCJzY3JvbGwiLCJyZXNpemUiLCJ0aGlzIiwidHJpZ2dlciIsInZhcnMiLCJzZXRCYXNlVVJMIiwiYmFzZVVSTCIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJpc19tb2JpbGUiLCJOU0lOS0FfR2xvYmFsIiwiY2hlY2siLCJhIiwidGVzdCIsInN1YnN0ciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwiaXNfdGFibGV0Iiwid1ciLCJ3aWR0aCIsIndIIiwiaGVpZ2h0IiwiZmFjdG9yIiwiaXNfc21hcnRwaG9uZSIsImFqYXhQYWdlIiwidXJsIiwiZm5BZnRlciIsInhociIsImFib3J0IiwiYWpheCIsInN1Y2Nlc3MiLCJkYXRhIiwiJGRhdGEiLCJwYXJzZUhUTUwiLCJmaWx0ZXIiLCJpdGVtIiwibm9kZU5hbWUiLCJ0aXRsZSIsInRleHQiLCJkYXRhVHlwZSIsInJhbmRvbUNvbG9yIiwiY29sb3IiLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG1wbCIsImlkIiwiXyIsInRlbXBsYXRlIiwiY2xvbmUiLCJoaXN0b3J5Iiwic2V0IiwicHVzaFN0YXRlIiwiZ2V0UmFuZEl0ZW1zT2ZBcnJheSIsImFycmF5IiwibGVuZ3RoIiwiaiIsIngiLCJhTGVuZ3RoIiwic3BsaWNlIiwic2xpZGVzaG93IiwiJHNsaWRlc2hvdyIsInNlYXJjaEZpbGUiLCJyZXN1bHQiLCJzbGljayIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImVhY2giLCJfZGF0YSIsImVudHJ5IiwiZmlsZSIsImh0bWxfdXJsIiwiZmlsZUNvbnRlbnQiLCIkc2xpZGUiLCJmYWN0RmlsZSIsImZhY3REYXRhIiwic2xpZGUiLCJmaW5kIiwiY2xpY2siLCJib2R5IiwidG9vbHRpcCIsInNob3ciLCJwYXJlbnQiLCJmaXJzdCIsImNsb3Nlc3QiLCJvbiIsInVwZGF0ZUNvbG9yU2NoZW1lcyIsInNjcm9sbFRvcCIsInRoaXNGaWxlIiwiX3RoaXMiLCJlIiwib2Zmc2V0IiwidG9wIiwicmVmZXJlbmNlcyIsImluc2VydGlvblRpbWVvdXQiLCJyZWZlcmVuY2VzSW5pdGVkIiwic2VhcmNoIiwidGFncyIsImpvaW4iLCJyZWZlcmVuY2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRSYW5kQ29sb3JTY2hlbWUiLCIkcmVmZXJlbmNlIiwiYXBwZW5kIiwic2V0VGltZW91dCIsImFkZENsYXNzIiwiZ2l0VVJMQ29udGVudCIsImdpdFVSTFNlYXJjaCIsImdpdFVzZXIiLCJnaXRSZXBvIiwibGFuZ3VhZ2VTZWxlY3RvciIsImxhbmciLCJsYW5ndWFnZSIsInVzZXJMYW5ndWFnZSIsInRvVXBwZXJDYXNlIiwiZm9sZGVyIiwib25sb2FkIiwiZ2V0IiwidGhpc0ZucyIsIk9iamVjdCIsImFzc2lnbiIsImZpbGVVcmwiLCJkb3dubG9hZF91cmwiLCJmaWxlVHlwZSIsIm1hdGNoIiwiJHJlZ2V4IiwiUmVnRXhwIiwicXVlcnkiLCJpdGVtcyIsImNvbG9yU2NoZW1lcyIsImhlYWRlciIsIm5hdiIsImJ1cmdlciIsInByZXZlbnREZWZhdWx0IiwiJHRoaXMiLCIkYm9keSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJnbG9iYWwiLCJzZWxlY3RlZENvbG9ycyIsIiRjc3MiLCIkbmV3Q1NTIiwiY29sb3IxIiwiY29sb3IyIiwiY29sb3IzIiwicmVwbGFjZVdpdGgiLCJwcmVwZW5kIiwiJHRvb3RsdGlwIiwidGltZW91dCIsIiR0YXJnZXQiLCJjb250ZW50IiwicmVtb3ZlIiwiY3NzIiwibGVmdCIsImFkZCIsIm1vdXNlbW92ZSIsImNsZWFyVGltZW91dCIsIm1vdXNlb3V0IiwiZmFkZU91dCIsIl9fIiwic3RyaW5nIiwibG9jYWwiLCJkZV9ERSIsIm1zZ2lkIiwibXNnc3RyIiwiZW5fR0IiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLHNCQUF1QixrRUFFM0JDLEdBQUVDLFFBQVFDLE1BQU0sV0FDWkMsU0FBU0MsT0FDVEMsS0FBS0QsT0FDTEUsTUFBTUYsT0FDTkcsUUFBUUgsT0FDUkksUUFBUUosU0FDVEssT0FBTyxjQUNQQyxPQUFPLFdBQ05WLEVBQUVXLE1BQU1DLFFBQVE7QUNMcEIsR0FBSVQsV0FDQVUsUUFRQVQsS0FBTSxXQUNGRCxTQUFTVyxjQUViQSxXQUFZLFdBQ1JYLFNBQVNVLEtBQUtFLFFBQVVkLE9BQU9lLFNBQVNDLEtBQUtDLFFBQVEsWUFBYSxLQVF0RUMsVUFBVyxXQUNQLEdBQW1DLE1BQWhDQyxjQUFjUCxLQUFLTSxVQUNsQixNQUFPQyxlQUFjUCxLQUFLTSxTQUc5QixJQUFJRSxJQUFRLENBR1osT0FGQSxVQUFVQyxJQUFNLDhUQUE4VEMsS0FBS0QsSUFBSSwwa0RBQTBrREMsS0FBS0QsRUFBRUUsT0FBTyxFQUFFLE9BQUtILEdBQVEsSUFBUUksVUFBVUMsV0FBV0QsVUFBVUUsUUFBUTFCLE9BQU8yQixPQUNwL0RSLGNBQWNQLEtBQUtNLFVBQVlFLEVBQ3hCQSxHQUVYUSxVQUFXLFdBQ1AsR0FBSUMsR0FBSzlCLEVBQUVDLFFBQVE4QixRQUNmQyxFQUFLaEMsRUFBRUMsUUFBUWdDLFNBQ2ZDLEVBQVNKLEVBQUdFLEVBQUdGLEVBQUdFLEVBQUdBLEVBQUdGLENBQzVCLE9BQ0luQixNQUFLUSxhQUVMZSxFQUFTLEtBR2pCQyxjQUFlLFdBQ1gsR0FBSUwsR0FBSzlCLEVBQUVDLFFBQVE4QixRQUNmQyxFQUFLaEMsRUFBRUMsUUFBUWdDLFNBQ2ZDLEVBQVNKLEVBQUdFLEVBQUdGLEVBQUdFLEVBQUdBLEVBQUdGLENBQzVCLE9BQ0luQixN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U0MsR0FDakI5SixLQUFLdUYsS0FBS0MsUUFBUW1FLFVBQVU1RixRQUMzQi9ELEtBQUt1RixLQUFLQyxRQUFRbUUsVUFBVUksU0FHaEMvSixLQUFLdUYsS0FBS0MsUUFBUW1FLFVBQVloSyxFQUFFRyxTQUFTdUQsS0FBSyxjQUFleUcsSUFFN0RELEVBQVFqRSxRQUFRLFdBQVdtQixPQUFPL0csS0FBS3VGLEtBQUtDLFFBQVFtRSxXQUVwRGhLLEVBQUVDLFFBQVFpRyxHQUFHLGtCQUFtQixXQUM1QjdGLEtBQUt1RixLQUFLQyxRQUFRbUUsVUFBVUssS0FDeEJDLEtBQU9KLEVBQVExRCxTQUFTOEQsS0FBTUosRUFBUW5JLFFBQVEsRUFBSzFCLEtBQUt1RixLQUFLQyxRQUFRbUUsVUFBVWpJLFFBQVEsRUFDdkYwRSxJQUFLeUQsRUFBUTFELFNBQVNDLElBQUt5RCxFQUFRakksU0FBUyxNQUVqRHJCLFFBQVEsbUJBRVhzSixFQUFRSyxJQUFJbEssS0FBS3VGLEtBQUtDLFFBQVFtRSxXQUFXUSxVQUFVLFdBQy9DQyxhQUFhcEssS0FBS3VGLEtBQUtDLFFBQVFvRSxXQUNoQ1MsU0FBUyxXQUNSRCxhQUFhcEssS0FBS3VGLEtBQUtDLFFBQVFvRSxTQUMvQjVKLEtBQUt1RixLQUFLQyxRQUFRb0UsUUFBVTVDLFdBQVcsV0FDbkNoSCxLQUFLdUYsS0FBS0MsUUFBUW1FLFVBQVVXLFFBQVEsV0FDaEMzSyxFQUFFVyxNQUFNeUosWUFFYjtBQ3pFdkIsUUFBU1EsSUFBR0MsR0FDUixNQUFPckssU0FBUW9LLEdBQUdDLEdBWHRCLEdBQUlySyxVQUNBc0ssT0FBTyxFQUNQMUssS0FBTSxXQUNGSSxRQUFRc0ssTUFBUXRLLFFBQVFGLE1BQU1xSCxxQkFFbENpRCxHQUFJLFNBQVNDO0FDTGpCckssUUFBUXVLLFFBRUFDLE1BQVEsWUFDUkMsT0FBUztBQ0hqQnpLLFFBQVEwSyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdHJhbnNpdGlvbkVuZFRyaWdnZXIgPSAndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCc7XG5cbiQod2luZG93KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBGX0dsb2JhbC5pbml0KCk7XG4gICAgRl9VSS5pbml0KCk7XG4gICAgRl9HaXQuaW5pdCgpO1xuICAgIEZfRmFjdHMuaW5pdCgpO1xuICAgIEZfTG9jYWwuaW5pdCgpO1xufSkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xufSkucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykudHJpZ2dlcigncmVzaXplX190b29sdGlwJyk7XG59KTtcbiIsIi8qKlxuKiBEZXNjcmlwdGlvbiBmb3IgR09fR2xvYmFsXG4qIEBwcml2YXRlXG4qIEBwcm9wZXJ0eSBHT19HbG9iYWxcbiovXG52YXIgRl9HbG9iYWwgPSB7XG4gICAgdmFyczoge1xuICAgIH0sXG4gICAgLyoqXG4gICAgKiBEZXNjcmlwdGlvbiBmb3IgaW5pdFxuICAgICogQHByaXZhdGVcbiAgICAqIEBtZXRob2QgaW5pdFxuICAgICogQHJldHVybiB7T2JqZWN0fSBkZXNjcmlwdGlvblxuICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIEZfR2xvYmFsLnNldEJhc2VVUkwoKTtcbiAgICB9LFxuICAgIHNldEJhc2VVUkw6IGZ1bmN0aW9uKCkge1xuICAgICAgICBGX0dsb2JhbC52YXJzLmJhc2VVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cXC8jW14jXSskLywgJycpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgKiBEZXNjcmlwdGlvbiBmb3IgaXNfbW9iaWxlXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQG1ldGhvZCBpc19tb2JpbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gZGVzY3JpcHRpb25cbiAgICAqL1xuICAgIGlzX21vYmlsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKE5TSU5LQV9HbG9iYWwudmFycy5pc19tb2JpbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE5TSU5LQV9HbG9iYWwudmFycy5pc19tb2JpbGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcbiAgICAgICAgKGZ1bmN0aW9uKGEpe2lmKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kfGFkKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaS50ZXN0KGEpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsNCkpKSBjaGVjayA9IHRydWU7fSkobmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKTtcbiAgICAgICAgTlNJTktBX0dsb2JhbC52YXJzLmlzX21vYmlsZSA9IGNoZWNrO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgfSxcbiAgICBpc190YWJsZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd1cgPSAkKHdpbmRvdykud2lkdGgoKSxcbiAgICAgICAgICAgIHdIID0gJCh3aW5kb3cpLmhlaWdodCgpLFxuICAgICAgICAgICAgZmFjdG9yID0gd1c+d0g/d1cvd0g6d0gvd1c7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmlzX21vYmlsZSgpICYmXG4gICAgICAgICAgICAvLyQod2luZG93KS53aWR0aCgpID4gNDE0ICYmXG4gICAgICAgICAgICBmYWN0b3IgPCAxLjZcbiAgICAgICAgKTtcbiAgICB9LFxuICAgIGlzX3NtYXJ0cGhvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd1cgPSAkKHdpbmRvdykud2lkdGgoKSxcbiAgICAgICAgICAgIHdIID0gJCh3aW5kb3cpLmhlaWdodCgpLFxuICAgICAgICAgICAgZmFjdG9yID0gd1c+d0g/d1cvd0g6d0gvd1c7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmlzX21vYmlsZSgpICYmXG4gICAgICAgICAgICAvLyQod2luZG93KS53aWR0aCgpID4gNDE0ICYmXG4gICAgICAgICAgICBmYWN0b3IgPiAxLjZcbiAgICAgICAgKTtcbiAgICB9LFxuICAgIGFqYXhQYWdlOiBmdW5jdGlvbih1cmwsIGZuQWZ0ZXIpIHtcbiAgICAgICAgaWYoTlNJTktBX0dsb2JhbC52YXJzLnhocikge1xuICAgICAgICAgICAgTlNJTktBX0dsb2JhbC52YXJzLnhoci5hYm9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgTlNJTktBX0dsb2JhbC52YXJzLnhociA9ICQuYWpheCh7XG4gICAgICAgICAgICB1cmwgOiB1cmwsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJGRhdGEgPSAkLnBhcnNlSFRNTChkYXRhKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZihpdGVtLm5vZGVOYW1lID09ICdUSVRMRScgfHwgaXRlbS5ub2RlTmFtZSA9PSAnTUFJTicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aXRsZSA9ICRkYXRhLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0ubm9kZU5hbWUgPT0gJ1RJVExFJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoJ3RpdGxlJykudGV4dCgkKHRpdGxlWzBdKS50ZXh0KCkpO1xuXG4gICAgICAgICAgICAgICAgZm5BZnRlcigkZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJhbmRvbUNvbG9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxldHRlcnMgPSAnMDEyMzQ1Njc4OUFCQ0RFRicsXG4gICAgICAgICAgICBjb2xvciA9ICcjJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKysgKSB7XG4gICAgICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH0sXG4gICAgLyoqXG4gICAgKiBEZXNjcmlwdGlvbiBmb3IgdG1wbFxuICAgICogQHByaXZhdGVcbiAgICAqIEBtZXRob2QgdG1wbFxuICAgICogQHBhcmFtIHtPYmplY3R9IGlkIChyZXF1aXJlZClcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIChkZWZhdWx0OiBudWxsKVxuICAgICogQHJldHVybiB7T2JqZWN0fSBqUXVlcnkgZWxlbWVudHNcbiAgICAqL1xuICAgIHRtcGw6IGZ1bmN0aW9uKGlkLCBkYXRhKSB7XG4gICAgICAgIGRhdGEgPSB7IGRhdGEgOiBkYXRhIH0gfHwgeyBkYXRhIDoge30gfTtcblxuICAgICAgICByZXR1cm4gXy50ZW1wbGF0ZSgkKCcjdG1wbF8nK2lkKS5jbG9uZSgpLnRleHQoKSkoZGF0YSk7XG4gICAgfSxcbiAgICBoaXN0b3J5OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odGl0bGUsIHVybCkge1xuICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe30sIHRpdGxlLCBGX0dsb2JhbC52YXJzLmJhc2VVUkwrdXJsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsInZhciBGX0ZhY3RzID0ge1xuICAgIHZhcnM6IHtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNsaWRlc2hvdygpO1xuICAgIH0sXG4gICAgc2xpZGVzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgRl9GYWN0cy52YXJzLiRzbGlkZXNob3cgPSAkKCcjZmFjdHNfc2xpZGVzaG93Jyk7XG4gICAgICAgIEZfR2l0LnNlYXJjaEZpbGUoJ2ZhY3RzL2RlX0RFJywgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICBGX0ZhY3RzLnZhcnMuJHNsaWRlc2hvdy5zbGljayh7XG4gICAgICAgICAgICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2IG1hdGVyaWFsLWljb25zXCI+JiN4RTMxNDs8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dCBtYXRlcmlhbC1pY29uc1wiPiYjeEUzMTU7PC9idXR0b24+J1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQuZWFjaChyZXN1bHQuX2RhdGEsIGZ1bmN0aW9uKGksIGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgRl9HaXQuZmlsZShlbnRyeS5odG1sX3VybCwgZnVuY3Rpb24oZmlsZUNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNsaWRlID0gJChGX0dsb2JhbC50bXBsKCdmYWN0QXJ0aWNsZScsIGZpbGVDb250ZW50ICkpO1xuICAgICAgICAgICAgICAgICAgICAkc2xpZGVbMF0uZmFjdEZpbGUgPSBlbnRyeS5odG1sX3VybDtcbiAgICAgICAgICAgICAgICAgICAgJHNsaWRlWzBdLmZhY3REYXRhID0gZmlsZUNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIEZfRmFjdHMudmFycy4kc2xpZGVzaG93LnNsaWNrKCdzbGlja0FkZCcsRl9GYWN0cy5zbGlkZS5pbml0KCRzbGlkZSwgZmlsZUNvbnRlbnQpKTtcblxuICAgICAgICAgICAgICAgICAgICAkc2xpZGUuZmluZCgnaDIsaDEnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZfVUkuYm9keS50b29sdGlwLnNob3coJCgnaDIsaDEnLCAkKHRoaXMpLnBhcmVudCgpKS5maXJzdCgpLCAkKHRoaXMpLmNsb3Nlc3QoJ2FydGljbGUnKVswXS5mYWN0RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBGX0ZhY3RzLnZhcnMuJHNsaWRlc2hvdy5vbignYWZ0ZXJDaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBGX1VJLmJvZHkudXBkYXRlQ29sb3JTY2hlbWVzKCk7XG4gICAgICAgICAgICAgICAgRl9GYWN0cy52YXJzLiRzbGlkZXNob3cuZmluZCgnOm5vdCguc2xpY2stY3VycmVudCknKS5zY3JvbGxUb3AoMCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgJHNsaWRlID0gRl9GYWN0cy52YXJzLiRzbGlkZXNob3cuZmluZCgnLnNsaWNrLWN1cnJlbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpc0ZhY3QgPSAkc2xpZGVbMF0uZmFjdERhdGEsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNGaWxlID0gJHNsaWRlWzBdLmZhY3RGaWxlO1xuICAgICAgICAgICAgICAgIEZfR2xvYmFsLmhpc3Rvcnkuc2V0KCRzbGlkZS5maW5kKCdoMScpLnRleHQoKSwgdGhpc0ZpbGUucmVwbGFjZSgvLiooXFwvW15cXC9dK1xcL1teXFwvXSspJC8sICcjISQxJykpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgc2xpZGU6IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oJHNsaWRlLCBmaWxlQ29udGVudCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICRzbGlkZS5zY3JvbGwoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmKCRzbGlkZS5maW5kKCcuZmFjdF9fcmVsYXRpdmVzJykub2Zmc2V0KCkudG9wLSRzbGlkZS5zY3JvbGxUb3AoKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZmVyZW5jZXMuaW5pdCgkc2xpZGUsIGZpbGVDb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAkc2xpZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIGluc2VydGlvblRpbWVvdXQ6IDAsXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbigkc2xpZGUsIGZpbGVDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYoISRzbGlkZVswXS5yZWZlcmVuY2VzSW5pdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzbGlkZVswXS5yZWZlcmVuY2VzSW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8kc2xpZGUuZmluZCgnLmZhY3RfX3JlbGF0aXZlcycpLmFwcGVuZCgpXG4gICAgICAgICAgICAgICAgICAgIEZfR2l0LnNlYXJjaChmaWxlQ29udGVudC50YWdzLmpvaW4oJysnKSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWRhdGEuX2RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGdldFJhbmRJdGVtc09mQXJyYXkoZGF0YS5fZGF0YSwgMyksIGZ1bmN0aW9uKGksIGVudHJ5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGX0dpdC5maWxlKGVudHJ5Lmh0bWxfdXJsLCBmdW5jdGlvbihmaWxlQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGX0ZhY3RzLnNsaWRlLnJlZmVyZW5jZXMucmVmZXJlbmNlKGZpbGVDb250ZW50LCAkc2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWZlcmVuY2U6IGZ1bmN0aW9uKGZpbGVDb250ZW50LCAkc2xpZGUpIHtcbiAgICAgICAgICAgICAgICBmaWxlQ29udGVudC5iYWNrZ3JvdW5kQ29sb3IgPSBGX1VJLmJvZHkuZ2V0UmFuZENvbG9yU2NoZW1lKClbMV07XG4gICAgICAgICAgICAgICAgdmFyICRyZWZlcmVuY2UgPSAkKEZfR2xvYmFsLnRtcGwoJ2ZhY3RBcnRpY2xlUmVsYXRpdmUnLCBmaWxlQ29udGVudCApKTtcbiAgICAgICAgICAgICAgICAkc2xpZGUuZmluZCgnLmZhY3RfX3JlbGF0aXZlcyAucmVsYXRpdmVzJykuYXBwZW5kKCRyZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICRyZWZlcmVuY2UuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgfSwgRl9GYWN0cy5zbGlkZS5yZWZlcmVuY2VzLmluc2VydGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIEZfRmFjdHMuc2xpZGUucmVmZXJlbmNlcy5pbnNlcnRpb25UaW1lb3V0ID0gRl9GYWN0cy5zbGlkZS5yZWZlcmVuY2VzLmluc2VydGlvblRpbWVvdXQrMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxufVxuXG5mdW5jdGlvbiBnZXRSYW5kSXRlbXNPZkFycmF5KGFycmF5LCBsZW5ndGgpIHtcbiAgICB2YXIgYUxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgaiwgeCwgaTtcbiAgICBmb3IgKGkgPSBhcnJheS5sZW5ndGg7IGk7IGktLSkge1xuICAgICAgICBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaSk7XG4gICAgICAgIHggPSBhcnJheVtpIC0gMV07XG4gICAgICAgIGFycmF5W2kgLSAxXSA9IGFycmF5W2pdO1xuICAgICAgICBhcnJheVtqXSA9IHg7XG4gICAgfVxuICAgIGlmKGxlbmd0aCA8IGFMZW5ndGgpIHtcbiAgICAgICAgYXJyYXkgPSBhcnJheS5zcGxpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwidmFyIEZfR2l0ID0ge1xuICAgIHZhcnM6IHtcbiAgICAgICAgZ2l0VVJMQ29udGVudCA6ICdodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zLycsXG4gICAgICAgIGdpdFVSTFNlYXJjaCA6ICdodHRwczovL2FwaS5naXRodWIuY29tL3NlYXJjaC9jb2RlP3E9cmVwbzonXG4gICAgfSxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgRl9HaXQudmFycy5naXRVc2VyID0gJ3NlYmFzdGlhbnRpZWRlJztcbiAgICAgICAgRl9HaXQudmFycy5naXRSZXBvID0gJ3doYXR0aGVmYWN0JztcblxuICAgICAgICBGX0dpdC52YXJzLmdpdFVSTENvbnRlbnQgPSBGX0dpdC52YXJzLmdpdFVSTENvbnRlbnQrRl9HaXQudmFycy5naXRVc2VyKycvJytGX0dpdC52YXJzLmdpdFJlcG8rJy9jb250ZW50cyc7XG5cbiAgICAgICAgRl9HaXQudmFycy5naXRVUkxTZWFyY2ggPSBGX0dpdC52YXJzLmdpdFVSTFNlYXJjaCtGX0dpdC52YXJzLmdpdFVzZXIrJy8nK0ZfR2l0LnZhcnMuZ2l0UmVwbztcblxuICAgICAgICByZXR1cm47XG4gICAgICAgIEZfR2l0LmZvbGRlcignL2RhdGEvZmFjdHMvJyArIEZfR2l0Lmxhbmd1YWdlU2VsZWN0b3IoKSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJC5lYWNoKGRhdGEuX2RhdGEsIGZ1bmN0aW9uKGksIGZpbGUpIHtcbiAgICAgICAgICAgICAgICBmaWxlLmZpbGUobnVsbCwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBGX0dpdC5zZWFyY2goJ1dlbHQgc2Now7ZuJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICBGX0dpdC5zZWFyY2hGaWxlKCd0ZXN0JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9LFxuICAgIGxhbmd1YWdlU2VsZWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlO1xuICAgICAgICByZXR1cm4gbGFuZyArICdfJyArIGxhbmcudG9VcHBlckNhc2UoKTtcbiAgICB9LFxuICAgIGZvbGRlcjogZnVuY3Rpb24oZm9sZGVyLCBvbmxvYWQpIHtcbiAgICAgICAgJC5nZXQoXG4gICAgICAgICAgICBGX0dpdC52YXJzLmdpdFVSTENvbnRlbnQrZm9sZGVyLFxuICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzRm5zID0gRl9HaXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgX2RhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oaSwgZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlXG4gICAgICAgICAgICAgICAgICAgIF9kYXRhW2ldID0gT2JqZWN0LmFzc2lnbihmaWxlLCB0aGlzRm5zKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKHtfZGF0YSA6IF9kYXRhfSwgdGhpc0Zucyk7XG4gICAgICAgICAgICAgICAgb25sb2FkKGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdqc29uJ1xuICAgICAgICApO1xuICAgIH0sXG4gICAgZmlsZTogZnVuY3Rpb24oZmlsZSwgb25sb2FkKSB7XG4gICAgICAgIHZhciBmaWxlVXJsID0gZmlsZSB8fCB0aGlzLmRvd25sb2FkX3VybCxcbiAgICAgICAgICAgIGZpbGVUeXBlID0gZmlsZVVybC5tYXRjaCgvKFteXFwuXSspJC8pWzFdIHx8IG51bGw7XG5cbiAgICAgICAgJHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKGh0dHAocyk/OlxcL1xcLylnaXRodWJcXC5jb20oXFwvJytGX0dpdC52YXJzLmdpdFVzZXIrJ1xcLycrRl9HaXQudmFycy5naXRSZXBvKycpXFwvYmxvYicsICdpJyk7XG4gICAgICAgIGZpbGVVcmwgPSBmaWxlVXJsLnJlcGxhY2UoJHJlZ2V4LCAnJDFyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJDMnKTtcblxuICAgICAgICAkLmdldChcbiAgICAgICAgICAgIGZpbGVVcmwsXG4gICAgICAgICAgICBvbmxvYWQsXG4gICAgICAgICAgICBmaWxlVHlwZVxuICAgICAgICApO1xuICAgIH0sXG4gICAgc2VhcmNoOiBmdW5jdGlvbihxdWVyeSwgb25sb2FkKSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgvXFxzLywnKycpO1xuXG4gICAgICAgICQuZ2V0KFxuICAgICAgICAgICAgRl9HaXQudmFycy5naXRVUkxTZWFyY2grJysnK3F1ZXJ5LFxuICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzRm5zID0gRl9HaXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgX2RhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAkLmVhY2goZGF0YS5pdGVtcywgZnVuY3Rpb24oaSwgZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlXG4gICAgICAgICAgICAgICAgICAgIF9kYXRhW2ldID0gT2JqZWN0LmFzc2lnbihmaWxlLCB0aGlzRm5zKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKHtfZGF0YSA6IF9kYXRhfSwgdGhpc0Zucyk7XG4gICAgICAgICAgICAgICAgb25sb2FkKGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdqc29uJ1xuICAgICAgICApO1xuXG4gICAgICAgIC8vaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9zZWFyY2gvY29kZT9xPXJlcG86c2ViYXN0aWFudGllZGUvZmFjdHMrd2VsdFxuICAgIH0sXG4gICAgc2VhcmNoRmlsZTogZnVuY3Rpb24ocXVlcnksIG9ubG9hZCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJlcGxhY2UoL1xccy8sJysnKTtcbiAgICAgICAgdGhpcy5zZWFyY2gocXVlcnkrJytpbjpwYXRoJywgb25sb2FkKTtcbiAgICB9XG59XG4iLCJ2YXIgRl9VSSA9IHtcbiAgICB2YXJzOiB7XG4gICAgICAgIGNvbG9yU2NoZW1lcyA6IFtcbiAgICAgICAgICAgIFsnIzUwNTU1MScsICcjYTdkM2FmJywgJyNkMGUzZDQnXSxcbiAgICAgICAgICAgIFsnIzZiNGM1YicsICcjZDNhN2JjJywgJyNlZGQ5ZTMnXSxcbiAgICAgICAgICAgIFsnIzNlNDY2NCcsICcjYTVhZWQxJywgJyNjY2QxZTMnXSxcbiAgICAgICAgICAgIFsnIzY4NDk0OScsICcjYzQ5YTlhJywgJyNkZmM2YzYnXSxcbiAgICAgICAgXVxuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyLm5hdi5idXJnZXIoKTtcbiAgICAgICAgRl9VSS5ib2R5LnVwZGF0ZUNvbG9yU2NoZW1lcygpO1xuICAgIH0sXG4gICAgaGVhZGVyOiB7XG5cbiAgICAgICAgbmF2OiB7XG4gICAgICAgICAgICBidXJnZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJy5oYW1idXJnZXInKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRib2R5ID0gJCgnYm9keScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3MgPSAnaXMtYWN0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdk9wZW5DbGFzcyA9ICduYXYtaXMtb3Blbic7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoJHRoaXMuaGFzQ2xhc3MoYWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVDbGFzcyhuYXZPcGVuQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGJvZHkuYWRkQ2xhc3MobmF2T3BlbkNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICAgIHVwZGF0ZUNvbG9yU2NoZW1lczogZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICAgICAgICAgICB2YXIgY29sb3JTY2hlbWVzID0gRl9VSS52YXJzLmNvbG9yU2NoZW1lcyxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9ycyA9IEZfVUkuYm9keS5nZXRSYW5kQ29sb3JTY2hlbWUoKSxcbiAgICAgICAgICAgICAgICAkY3NzID0gJCgnI2NvbG9yU2NoZW1lJyk7XG4gICAgICAgICAgICAkbmV3Q1NTID0gJChGX0dsb2JhbC50bXBsKCdjb2xvclNjaGVtZXNDU1MnLCB7XG4gICAgICAgICAgICAgICAgY29sb3IxIDogc2VsZWN0ZWRDb2xvcnNbMF0sXG4gICAgICAgICAgICAgICAgY29sb3IyIDogc2VsZWN0ZWRDb2xvcnNbMV0sXG4gICAgICAgICAgICAgICAgY29sb3IzIDogc2VsZWN0ZWRDb2xvcnNbMl1cbiAgICAgICAgICAgIH0gKSlcblxuICAgICAgICAgICAgaWYoJGNzcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkY3NzLnJlcGxhY2VXaXRoKCRuZXdDU1MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCdib2R5JykucHJlcGVuZCgkbmV3Q1NTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UmFuZENvbG9yU2NoZW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjb2xvclNjaGVtZXMgPSBGX1VJLnZhcnMuY29sb3JTY2hlbWVzO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yU2NoZW1lc1soTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIGNvbG9yU2NoZW1lcy5sZW5ndGgpICsgMSktMSldO1xuICAgICAgICB9LFxuICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAkdG9vdGx0aXA6IGZhbHNlLFxuICAgICAgICAgICAgdGltZW91dDogZmFsc2UsXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbigkdGFyZ2V0LCBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYoRl9VSS5ib2R5LnRvb2x0aXAuJHRvb3RsdGlwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBGX1VJLmJvZHkudG9vbHRpcC4kdG9vdGx0aXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgRl9VSS5ib2R5LnRvb2x0aXAuJHRvb3RsdGlwID0gJChGX0dsb2JhbC50bXBsKCdmYWN0VG9vbHRpcCcsIGNvbnRlbnQgKSk7XG5cbiAgICAgICAgICAgICAgICAkdGFyZ2V0LmNsb3Nlc3QoJ2FydGljbGUnKS5hcHBlbmQoRl9VSS5ib2R5LnRvb2x0aXAuJHRvb3RsdGlwKTtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigncmVzaXplX190b29sdGlwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIEZfVUkuYm9keS50b29sdGlwLiR0b290bHRpcC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogKCR0YXJnZXQub2Zmc2V0KCkubGVmdCsoJHRhcmdldC53aWR0aCgpLzIpKS0oRl9VSS5ib2R5LnRvb2x0aXAuJHRvb3RsdGlwLndpZHRoKCkvMiksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICR0YXJnZXQub2Zmc2V0KCkudG9wLSgkdGFyZ2V0LmhlaWdodCgpLzIpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSkudHJpZ2dlcigncmVzaXplX190b29sdGlwJyk7XG5cbiAgICAgICAgICAgICAgICAkdGFyZ2V0LmFkZChGX1VJLmJvZHkudG9vbHRpcC4kdG9vdGx0aXApLm1vdXNlbW92ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KEZfVUkuYm9keS50b29sdGlwLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH0pLm1vdXNlb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoRl9VSS5ib2R5LnRvb2x0aXAudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIEZfVUkuYm9keS50b29sdGlwLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgRl9VSS5ib2R5LnRvb2x0aXAuJHRvb3RsdGlwLmZhZGVPdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJ2YXIgRl9Mb2NhbCA9IHtcbiAgICBsb2NhbDogZmFsc2UsXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIEZfTG9jYWwubG9jYWwgPSBGX0xvY2FsW0ZfR2l0Lmxhbmd1YWdlU2VsZWN0b3IoKV07XG4gICAgfSxcbiAgICBfXzogZnVuY3Rpb24oc3RyaW5nKSB7XG5cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBfXyhzdHJpbmcpIHtcbiAgICByZXR1cm4gRl9Mb2NhbC5fXyhzdHJpbmcpO1xufVxuIiwiRl9Mb2NhbC5kZV9ERSA9IFtcbiAgICB7XG4gICAgICAgIG1zZ2lkIDogXCJUaHVtYm5haWxcIixcbiAgICAgICAgbXNnc3RyIDogXCJcIlxuICAgIH1cbl07XG4iLCJGX0xvY2FsLmVuX0dCID0ge1xuXG59O1xuIl19
